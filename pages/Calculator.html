<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="../css/calculator.css">

<title>Fitness Calculators</title>

</head>
<body>




  <div id="header"></div>

<script>
  fetch("./header.html")  // ‚úÖ header.html ka correct path
    .then(response => response.text())
    .then(data => {
      document.getElementById("header").innerHTML = data;
    });
</script>








<header>
  <h1>Fitness Calculators</h1>
  <a href="../index.html" class="back-btn">‚Üê Back to Home</a>
</header>

<div id="history-box">
  <h3>üìú Calculation History</h3>
  <ul id="history-list"></ul>
</div>

<div class="main-tabs">
  <button class="tab-btn active" data-target="bmi">BMI</button>
  <button class="tab-btn" data-target="bmr">BMR</button>
  <button class="tab-btn" data-target="tdee">TDEE</button>
  <button class="tab-btn" data-target="ideal">Ideal Weight</button>
  <button class="tab-btn" data-target="calorie">Calorie Goal</button>
</div>

<!-- BMI -->
<div id="bmi" class="calc-container active">
  <h2>BMI Calculator</h2>
  <input type="number" id="bmiWeight" placeholder="Weight (kg)">
  <input type="number" id="bmiHeight" placeholder="Height (cm)">
  <button class="calc-btn" onclick="calculateBMI()">Calculate</button>
  <div class="result" id="bmiResult"></div>
  <div class="info-box">
    <p><b>What is BMI?</b> Body Mass Index (BMI) measures body fat.</p>
    <p><b>Formula:</b> BMI = Weight (kg) / [Height (m)]¬≤</p>
  </div>
</div>

<!-- BMR -->
<div id="bmr" class="calc-container">
  <h2>BMR Calculator</h2>
  <input type="number" id="bmrWeight" placeholder="Weight (kg)">
  <input type="number" id="bmrHeight" placeholder="Height (cm)">
  <input type="number" id="bmrAge" placeholder="Age (years)">
  <select id="bmrGender">
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select>
  <button class="calc-btn" onclick="calculateBMR()">Calculate</button>
  <div class="result" id="bmrResult"></div>
  <div class="info-box">
    <p><b>What is BMR?</b> Basal Metabolic Rate calories at rest.</p>
  </div>
</div>

<!-- TDEE -->
<div id="tdee" class="calc-container">
  <h2>TDEE Calculator</h2>
  <input type="number" id="tdeeWeight" placeholder="Weight (kg)">
  <input type="number" id="tdeeHeight" placeholder="Height (cm)">
  <input type="number" id="tdeeAge" placeholder="Age (years)">
  <select id="tdeeGender">
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select>
  <select id="activityLevel">
    <option value="1.2">Sedentary</option>
    <option value="1.375">Lightly Active</option>
    <option value="1.55">Moderately Active</option>
    <option value="1.725">Very Active</option>
    <option value="1.9">Extremely Active</option>
  </select>
  <button class="calc-btn" onclick="calculateTDEE()">Calculate</button>
  <div class="result" id="tdeeResult"></div>
  <div class="info-box">
    <p><b>What is TDEE?</b> Total Daily Energy Expenditure.</p>
  </div>
</div>

<!-- Ideal Weight -->
<div id="ideal" class="calc-container">
  <h2>Ideal Weight Calculator</h2>
  <input type="number" id="idealHeight" placeholder="Height (cm)">
  <select id="idealGender">
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select>
  <button class="calc-btn" onclick="calculateIdeal()">Calculate</button>
  <div class="result" id="idealResult"></div>
</div>

<!-- Calorie Goal -->
<div id="calorie" class="calc-container">
  <h2>Calorie Goal</h2>
  <input type="number" id="goalWeight" placeholder="Weight (kg)">
  <input type="number" id="goalHeight" placeholder="Height (cm)">
  <input type="number" id="goalAge" placeholder="Age (years)">
  <select id="goalGender">
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select>
  <select id="goalActivity">
    <option value="1.2">Sedentary</option>
    <option value="1.375">Lightly Active</option>
    <option value="1.55">Moderately Active</option>
    <option value="1.725">Very Active</option>
    <option value="1.9">Extremely Active</option>
  </select>
  <select id="goalType">
    <option value="maintain">Maintain</option>
    <option value="cut">Fat Loss</option>
    <option value="bulk">Bulk</option>
  </select>
  <button class="calc-btn" onclick="calculateGoal()">Calculate</button>
  <div class="result" id="goalResult"></div>
</div>

<script>
// TAB SWITCH
const tabButtons = document.querySelectorAll(".tab-btn");
const containers = document.querySelectorAll(".calc-container");
tabButtons.forEach(btn=>{
  btn.addEventListener("click",()=>{
    tabButtons.forEach(b=>b.classList.remove("active"));
    containers.forEach(c=>c.classList.remove("active"));
    btn.classList.add("active");
    const target=document.getElementById(btn.dataset.target);
    target.classList.add("active");
    target.scrollIntoView({behavior:"smooth",block:"start"});
  });
});

// HISTORY
function addToHistory(text,imgSrc=null){
  const li=document.createElement("li");
  li.textContent=text;
  if(imgSrc){
    const img=document.createElement("img");
    img.src=imgSrc;
    li.appendChild(img);
  }
  document.getElementById("history-list").prepend(li);
}

// BMI
function calculateBMI() {
  const w = parseFloat(document.getElementById("bmiWeight").value);
  const h = parseFloat(document.getElementById("bmiHeight").value) / 100;
  
  if (!w || !h) return alert("Enter valid inputs");

  const bmi = (w / (h * h)).toFixed(1);

  let status = "";
  let img = "../asset/Normal.webp";

  if (bmi < 18.5) {
    status = "Underweight";
    img = "../asset/Underweight.webp";
  } else if (bmi < 24.9) {
    status = "Normal";
    img = "../asset/Normal.webp";
  } else if (bmi < 29.9) {
    status = "Overweight";
    img = "../asset/Overweight.webp";
  } else {
    status = "Obese";
    img = "../asset/Obese.webp";
  }

  // Show BMI + status + image (without "Category:" label)
  document.getElementById("bmiResult").innerHTML = `
    ${bmi} <br>
    ${status} <br>
    <img src="${img}" style="width:100px;height:100px;border-radius:8px;">
  `;

  addToHistory(`BMI: ${bmi} (${status})`, img);
}


// BMR
function calculateBMR(){
  const w=parseFloat(document.getElementById("bmrWeight").value);
  const h=parseFloat(document.getElementById("bmrHeight").value);
  const a=parseFloat(document.getElementById("bmrAge").value);
  const g=document.getElementById("bmrGender").value;
  if(!w||!h||!a) return alert("Enter valid inputs");
  const bmr=g==="male"? 88.36+13.4*w+4.8*h-5.7*a : 447.6+9.2*w+3.1*h-4.3*a;
  const img="../asset/BMR.webp";
  document.getElementById("bmrResult").innerHTML=`BMR: ${bmr.toFixed(0)} kcal/day <br><img src="${img}" style="width:100px;height:100px;border-radius:8px;">`;
  addToHistory(`BMR: ${bmr.toFixed(0)} kcal/day`,img);
}

// TDEE
function calculateTDEE(){
  const w=parseFloat(document.getElementById("tdeeWeight").value);
  const h=parseFloat(document.getElementById("tdeeHeight").value);
  const a=parseFloat(document.getElementById("tdeeAge").value);
  const g=document.getElementById("tdeeGender").value;
  const act=parseFloat(document.getElementById("activityLevel").value);
  if(!w||!h||!a) return alert("Enter valid inputs");
  const bmr=g==="male"? 10*w+6.25*h-5*a+5 : 10*w+6.25*h-5*a-161;
  const tdee=Math.round(bmr*act);
  const img="../asset/TDEE.webp";
  document.getElementById("tdeeResult").innerHTML=`TDEE: ${tdee} kcal/day <br><img src="${img}" style="width:100px;height:100px;border-radius:8px;">`;
  addToHistory(`TDEE: ${tdee} kcal/day`,img);
}

// Ideal Weight
function calculateIdeal(){
  const h=parseFloat(document.getElementById("idealHeight").value);
  const g=document.getElementById("idealGender").value;
  if(!h) return alert("Enter valid inputs");
  const ideal=g==="male"? 50+0.91*(h-152.4) : 45.5+0.91*(h-152.4);
  const img="../asset/IDEAL.webp";
  document.getElementById("idealResult").innerHTML=`Ideal Weight: ${ideal.toFixed(1)} kg <br><img src="${img}" style="width:100px;height:100px;border-radius:8px;">`;
  addToHistory(`Ideal Weight: ${ideal.toFixed(1)} kg`,img);
}

// Calorie Goal
function calculateGoal(){
  const w=parseFloat(document.getElementById("goalWeight").value);
  const h=parseFloat(document.getElementById("goalHeight").value);
  const a=parseFloat(document.getElementById("goalAge").value);
  const g=document.getElementById("goalGender").value;
  const act=parseFloat(document.getElementById("goalActivity").value);
  const type=document.getElementById("goalType").value;
  if(!w||!h||!a) return alert("Enter valid inputs");
  const bmr=g==="male"? 10*w+6.25*h-5*a+5 : 10*w+6.25*h-5*a-161;
  let cal=Math.round(bmr*act);
  if(type==="cut") cal-=400;
  else if(type==="bulk") cal+=400;
  const img="../asset/Calorie-Goal.webp";
  document.getElementById("goalResult").innerHTML=`Target Calories: ${cal} kcal/day <br><img src="${img}" style="width:100px;height:100px;border-radius:8px;">`;
  addToHistory(`Calorie Goal: ${cal} kcal/day`,img);
}
</script>








<div id="footer"></div>
<script>
  fetch('./footer.html')   // footer.html ka path correct rakho
    .then(response => response.text())
    .then(data => {
      document.getElementById('footer').innerHTML = data;
    })
    .catch(err => console.error("Footer load error:", err));
</script>


</body>
</html>
